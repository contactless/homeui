<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <title>Wiren Board Web UI</title>
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="/">
    <%=htmlWebpackPlugin.files.chunksManifest%>
    <%=htmlWebpackPlugin.files.webpackManifest%>
  </head>

  <body ng-app="realHomeuiApp">
    <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <div id="wrapper" ng-class="{ 'show-console': consoleVisible }">

      <!-- Navigation -->
      <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" ng-controller='NavigationCtrl'>
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" ui-sref="home">Wiren Board Web UI</a>

          <div class=" help-navbar">
            <div class="dropdown  navbar-right navbar-text">
              <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
                <span class="glyphicon glyphicon-question-sign"></span> Справка <span class="caret"></span>
              </button>
              <ul class="dropdown-menu">
                <li><a href="http://contactless.ru/wiki/index.php/%D0%92%D0%B5%D0%B1-%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81_Wiren_Board">Документация</a></li>
                <li><a href="http://forums.contactless.ru">Наш форум</a></li>

              </ul>
            </div>
          </div>

          <p class="navbar-text navbar-right connection-status">
			    <span  class="" ng-class="(isConnected()) ? '' : 'label label-danger'" ng-bind="isConnected() ? 'Connected' : 'Disconnected'"></span>
          </p>
        </div>

        <div class="nav navbar-nav navbar-right">
        </div>

        <!-- Sidebar Menu Items - These collapse to the responsive navigation menu on small screens -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="nav navbar-nav side-nav">
            <li ui-sref-active="active">
              <a ui-sref="home"><i class="glyphicon glyphicon-cog"></i> Home</a>
            </li>
            <li ui-sref-active="active" class="list-menu">
              <a ui-sref="dashboards"><i class="glyphicon glyphicon-dashboard"></i> Dashboards</a>
              <a href="javascript:;" data-toggle="collapse" data-target="#dashboards-menu"><i class="glyphicon glyphicon-menu-down"></i></a>
              <ul id="dashboards-menu" class="collapse">
                <li ng-repeat="d in dashboards()" dashboard-menu-item>
                  <a ui-sref="dashboard({ id: d.id })" ui-sref-active="active">{{ d.name }}</a>
                </li>
              </ul>
            </li>
            <li ui-sref-active="active">
              <a ui-sref="devices"><i class="glyphicon glyphicon-cog"></i> Devices</a>
            </li>
            <li ui-sref-active="active">
              <a ui-sref="widgets"><i class="glyphicon glyphicon-list-alt"></i> Widgets</a>
            </li>
            <li ui-sref-active="active">
              <a ui-sref="history"><i class="glyphicon glyphicon-stats"></i> History</a>
            </li>
            <li ng-if="isConnected()" ui-sref-active="active">
              <a ui-sref="scripts"><i class="glyphicon glyphicon-file"></i> Scripts</a>
            </li>

            <li ng-if="isConnected()" ui-sref-active="active" class="list-menu config-menu">
              <a ui-sref="configs"><i class="glyphicon glyphicon-file"></i> Configs</a>
              <a href="javascript:;" data-toggle="collapse" data-target="#configs-menu"><i class="glyphicon glyphicon-menu-down"></i></a>
              <ul id="configs-menu" class="collapse">
                <li ng-repeat="config in getConfigs()">
                  <a ui-sref="configEdit({ path: config.schemaPath })"
                    ui-sref-active="active">
                    {{ config.title }}
                    <span class="glyphicon glyphicon-alert" ng-show="!!config.error"></span>
                  </a>
                </li>
              </ul>
            </li>
            <li ui-sref-active="active">
              <a ui-sref="settings"><i class="glyphicon glyphicon-wrench"></i> Settings</a>
            </li>
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </nav>

      <div id="page-wrapper">

        <div class="container-fluid">

          <!-- Page Heading -->
          <div class="row">
            <div class="col-lg-12">
              <div class="alert alert-success" role="alert" ng-show='showCreated' ng-cloak>
                <strong>Changes</strong> successfully saved.
              </div>
              <div class="alert alert-danger" role="alert" ng-cloak ng-controller="AlertCtrl" ng-show="visible">
                <button type="button" class="close" ng-click="visible = false;"
                        aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                <!-- <span class="sr-only">Error:</span> -->
                <span ng-bind-html="messageHtml"></span>
              </div>
              <!-- viewport for child view -->
              <div ng-show='stateIsLoading'>
                <strong>Loading...</strong>
              </div>
                <ui-view ng-hide='stateIsLoading'></ui-view>
            </div>
          </div>
          <!-- /.row -->

          <!-- Page Footer -->
          <div class="row" style="height:40px;">
            <footer>
              <a href="http://contactless.ru"><img src="images/contactless.png" alt="Contactless" title="Contactless - Бесконтактные устройства" style="margin-right:15px;"></a>
              <a href="https://carbonfay.ru"><img src="images/carbonfay.png" alt="Carbonfay" title="Carbonfay/ on rails - Быстрая разработка корпоративных проектов" style="padding-left: 5px;"></a>
            </footer>
          </div>
          <!-- /footer -->
        </div>
        <!-- /.container-fluid -->

      </div>
      <!-- /#page-wrapper -->

    </div>

    <div class="console" ng-show="consoleVisible">
      <console></console>
      <button type="button" name="close" class="close"
              ng-click="consoleVisible = false">
        <span class="glyphicon glyphicon-remove"></span>
      </button>
    </div>

    <button type="button" class="btn btn-default btn-lg show-console"
            ng-hide="consoleVisible"
            ng-click="consoleVisible = true">
      <span class="glyphicon glyphicon-wrench"></span>
    </button>

  </body>
</html>
